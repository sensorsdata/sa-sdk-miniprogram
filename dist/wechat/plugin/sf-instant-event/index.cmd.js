"use strict";var base={plugin_version:"1.22.5"};function createPlugin(e){if("object"==typeof e&&"string"==typeof e.plugin_name&&""!==e.plugin_name)return e.plugin_version=base.plugin_version,e.log=e.log||function(){"object"==typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)},e;"object"==typeof console&&"function"==typeof console.error&&console.error('plugin must contain  proprerty "plugin_name"')}var InstantEvent={init(e,n){e.ee.sdk.on("initPara",function(){e.para.is_sf_instant_event=!0}),(n=e._.isObject(n)?n:{}).instant_events=n.instant_events||[],e.kit.is_sf_instant_event=function(t){return!(!e._.isObject(t)||!e._.isString(t.event))&&n.instant_events.includes(t.event)},e.kit.onceSend=function(n,t){n._flush_time=Date.now();var o=e.kit.onceTrackData(n),r=e.para.server_url;t?e._.wxrequest({header:{"Content-Type":"text/plain"},url:r,method:"POST",dataType:"text",data:o+"&instant_event=true"}):(r=e.para.server_url+"?"+o,-1!==e.para.server_url.indexOf("?")&&(r=e.para.server_url+"&"+o),e._.wxrequest({url:r,method:"GET"}))}},plugin_name:"SFInstantEvent"},index=createPlugin(InstantEvent);module.exports=index;